<!DOCTYPE html>
<html>
<head>
    <title>HomeOrg</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Link to the external stylesheet -->
    <link rel="stylesheet" href="/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-navigation">
                <div id="back-button" style="display: none;">
                    <i class="material-icons">arrow_back</i>
                </div>
                <div id="home-button" style="display: none; cursor: pointer;">
                    <i class="material-icons">home</i>
                </div>
            </div>
            <span id="header-title">HomeOrg</span>
            <div class="header-icons">
                <div class="search-icon">
                    <i class="material-icons">search</i>
                </div>
                <div class="filter-icon">
                    <i class="material-icons">filter_list</i>
                </div>
                <i class="material-icons">more_vert</i>
            </div>
        </header>

        <div class="counts">
            <span>Folders: <span id="folder-count">0</span></span>
            <span>Items: <span id="item-count">0</span></span>
            <span>Quantity: <span id="total-quantity">0</span></span>
        </div>

        <div id="items-grid">
            <div id="folder-grid"></div>
            <div id="item-grid"></div>
        </div>

        <!-- Item Details View -->
        <div id="item-details-view" style="display: none;">
            <header>
                <div id="item-details-back-button">
                    <i class="material-icons">arrow_back</i>
                </div>
                <span id="item-details-title"></span>
                <div class="header-icons">
                    <i class="material-icons">more_vert</i>
                </div>
            </header>
            <div id="item-details-content">
                <div id="item-details-image-container" class="image-gallery">
                    <!-- Images will be loaded here -->
                </div>
                <div class="detail-row"><strong>Description:</strong> <span id="item-details-description"></span></div>
                <div class="detail-row"><strong>Quantity:</strong> <span id="item-details-quantity"></span></div>
                <div class="detail-row"><strong>Date Acquired:</strong> <span id="item-details-date"></span></div>
                <div class="detail-row"><strong>Tags:</strong> <span id="item-details-tags"></span></div>
                <div class="detail-row"><strong>Notes:</strong> <span id="item-details-notes"></span></div>
            </div>
        </div>

        <!-- Floating Action Button for Add -->
        <button id="add-item-fab">
            <i class="material-icons">add</i>
        </button>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#" onclick="loadRootView(); return false;">
            <i class="material-icons">home</i> Items
        </a>
        <a href="#">
            <i class="material-icons">search</i> Search
        </a>
        <a href="#">
            <i class="material-icons">menu</i> Menu
        </a>
    </nav>

    <!-- Add/Edit Item/Folder Modal -->
    <div id="add-edit-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modal-title">Add New Entry</h2>

            <div class="tab-buttons">
                <button class="tab-button active" data-tab="add-folder-form">Add Folder</button>
                <button class="tab-button" data-tab="add-item-form">Add Item</button>
            </div>

            <!-- Add Folder Form -->
            <form id="add-folder-form" class="tab-content active">
                <label for="modalFolderName">Folder Name:</label>
                <input type="text" id="modalFolderName" required>

                <label for="modalFolderDescription">Description:</label>
                <textarea id="modalFolderDescription"></textarea>

                <label for="modalFolderNotes">Notes:</label>
                <textarea id="modalFolderNotes"></textarea>

                <label for="modalFolderTags">Tags (comma-separated):</label>
                <input type="text" id="modalFolderTags">

                <label>Folder Image:</label>
                <div class="image-upload-controls">
                    <button type="button" id="takeFolderPhotoButton" class="btn-secondary">Take Photo</button>
                    <button type="button" id="chooseFolderFileButton" class="btn-secondary">Choose File</button>
                    <input type="file" id="modalFolderImageFile" accept="image/*" style="display: none;">
                    <input type="file" id="modalFolderCameraFile" accept="image/*" capture="camera" style="display: none;">
                    <span id="selectedFolderImageName" class="file-name-display">No file chosen</span>
                </div>

                <label for="modalFolderParentId">Parent Folder ID (optional):</label>
                <input type="number" id="modalFolderParentId">

                <button type="submit" class="btn-primary">Create Folder</button>
            </form>

            <!-- Add Item Form -->
            <form id="add-item-form" class="tab-content" style="display: none;">
                <label for="modalItemName">Item Name:</label>
                <input type="text" id="modalItemName" required>

                <label for="modalItemDescription">Description:</label>
                <textarea id="modalItemDescription"></textarea>

                <label for="modalItemQuantity">Quantity:</label>
                <input type="number" id="modalItemQuantity" value="1" required>

                <label for="modalItemUnit">Unit:</label>
                <select id="modalItemUnit"></select>

                <label for="modalItemTags">Tags (comma-separated):</label>
                <input type="text" id="modalItemTags">

                <label for="modalItemAcquiredDate">Acquired Date:</label>
                <input type="date" id="modalItemAcquiredDate">

                <label for="modalItemNotes">Notes:</label>
                <textarea id="modalItemNotes"></textarea>

                <label>Item Image:</label>
                <div class="image-upload-controls">
                    <button type="button" id="takeItemPhotoButton" class="btn-secondary">Take Photo</button>
                    <button type="button" id="chooseItemFileButton" class="btn-secondary">Choose File</button>
                    <input type="file" id="modalItemImageFile" accept="image/*" style="display: none;">
                    <input type="file" id="modalItemCameraFile" accept="image/*" capture="camera" style="display: none;">
                    <span id="selectedItemImageName" class="file-name-display">No file chosen</span>
                </div>

                <label for="modalItemFolderId">Folder ID (optional):</label>
                <input type="number" id="modalItemFolderId">

                <button type="submit" class="btn-primary">Create Item</button>
            </form>
        </div>
    </div>

    <!-- Custom Message Box and Confirmation Dialog -->
    <div class="message-box" id="messageBox" style="display: none;"></div>
    <div class="message-box" id="confirmBox" style="display: none; background-color: #ffc107; color: #333;">
        <p id="confirmMessage"></p>
        <div class="mt-3 flex justify-end space-x-2">
            <button class="btn btn-secondary" id="confirmNo">No</button>
            <button class="btn btn-primary" id="confirmYes">Yes</button>
        </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="/script.js"></script>
</body>
</html>
